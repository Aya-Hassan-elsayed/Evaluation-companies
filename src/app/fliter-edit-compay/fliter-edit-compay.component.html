<form class="filter-form mt-6">
    <div class="row">
      <div class="col-md-4">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label class="label">اسم الشركة</mat-label>
          <mat-select (selectionChange)="applyRequestTypeFilter($event.value)" style="width: 100%; color: #ee0659;">
            <mat-option *ngFor="let type of requestTypes" [value]="type.value">{{ type.label }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
  
      <div class="col-md-4">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label class="label">تاريخ البداية</mat-label>
          <input matInput placeholder="اختر تاريخ" type="date" (change)="onStartDateFilterChange($event)" [(ngModel)]="startYear" name="startDate" style="width: 100%; color: #ee0659;">
        </mat-form-field>

      </div>
  
      <div class="col-md-4 d-flex align-items-center">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label class="label">تاريخ النهاية</mat-label>
          <input matInput placeholder="اختر تاريخ" type="date" (change)="onEndDateFilterChange($event)" [(ngModel)]="endYear" name="endDate" style="width: 100%; color: #ee0659;">
        </mat-form-field>
        <button mat-raised-button (click)="applyFilters()" color="primary" class="search-button ml-2">Search</button>
      </div>
    </div>
    
    
  <div class="row d-flex justify-content-center align-items-center">
    <div class="col-md-6">
      <div class="diagram-container d-flex align-items-center justify-content-center">
        <mat-icon>bar_chart</mat-icon>
        <span class="ml-2">Show Diagram</span>
        <button mat-button (click)="openCombinedChartDialog()" class="ml-2">
          Open Diagram
        </button>
      </div>
    </div>
  </div>
 
  
  </form>


  
  
  <table>
    <thead>
      <tr>
        <th>العدد</th>
        <th>اسم الشركة</th>
        <th>التاريخ</th> <!-- New column for formatted date -->
        <th>اجمالي عدد الطلبات</th>
        <th>اجمالي عدد الطلبات المقبولة</th>
        <th>نسبة المقبول</th>
        
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of companies; let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ item.compName }}</td>
        <td>{{ formatDate(item.assigDateMonth, item.assigDateYear) }}</td> 
        <td>{{ item.totalorders }}</td>
        <td>{{ item.acceptedOrders }}</td>
        <td class="percentage accepted">{{ item.precentage }}%</td>
      
      </tr>
    </tbody>
  </table>
  